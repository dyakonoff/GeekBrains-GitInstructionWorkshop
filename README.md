# Инструкция по работе с Git

# Git для новичков

# Оглавление

- [Инструкция по работе с Git](#инструкция-по-работе-с-git)
- [Git для новичков](#git-для-новичков)
- [Оглавление](#оглавление)
- [Часть 1](#часть-1)
  - [Что такое Git и зачем он нужен?](#что-такое-git-и-зачем-он-нужен)
    - [Системы контроля версий до Git](#системы-контроля-версий-до-git)
    - [История создания Git](#история-создания-git)
    - [Почему Git стал наиболее популярной системой контроля версий](#почему-git-стал-наиболее-популярной-системой-контроля-версий)
  - [Как работает](#как-работает)
  - [Установка](#установка)
  - [Настройка](#настройка)
  - [Создание репозитория](#создание-репозитория)
  - [Процесс работы с Git](#процесс-работы-с-git)
  - [Визуальный интерфейс](#визуальный-интерфейс)
  - [Создаем свой первый проект и выкладываем на GitHub](#создаем-свой-первый-проект-и-выкладываем-на-github)
  - [Итог](#итог)
- [Часть 2](#часть-2)
  - [Совместная работа](#совместная-работа)
    - [Как же теперь другой человек получит все ваши изменения?](#как-же-теперь-другой-человек-получит-все-ваши-изменения)
    - [Теперь самое главное](#теперь-самое-главное)
    - [Какие проблемы могут возникнуть?](#какие-проблемы-могут-возникнуть)
  - [Вспомогательные команды](#вспомогательные-команды)
  - [Практика и вспомогательные инструменты](#практика-и-вспомогательные-инструменты)


# Часть 1
_оригинал доступен [здесь](https://habr.com/ru/articles/541258/)_


## Что такое Git и зачем он нужен?
Git - это консольная утилита, для отслеживания и ведения истории изменения файлов, в вашем проекте. Чаще всего его используют для кода, но можно и для других файлов. Например, для картинок - полезно для дизайнеров.

С помощью Git-a вы можете откатить свой проект до более старой версии, сравнивать, анализировать или сливать свои изменения в репозиторий.

Репозиторием называют хранилище вашего кода и историю его изменений. Git работает локально и все ваши репозитории хранятся в определенных папках на жестком диске.

Так же ваши репозитории можно хранить и в интернете. Обычно для этого используют три сервиса:

* [GitHub](https://github.com/)
* [Bitbucket](https://bitbucket.org/)
* [GitLab](https://about.gitlab.com/)

Каждая точка сохранения вашего проекта носит название коммит (commit). У каждого commit-a есть hash (уникальный id) и комментарий. Из таких commit-ов собирается ветка. Ветка - это история изменений. У каждой ветки есть свое название. Репозиторий может содержать в себе несколько веток, которые создаются из других веток или вливаются в них.


<div style="background-color: rgb(240, 240, 255);">
<details>
<summary><b>Историческая справка</b></summary>

### Системы контроля версий до Git
До создания Git существовало несколько систем контроля версий (VCS), каждая из которых имела свои особенности, преимущества и недостатки.

1. **SCCS** (Source Code Control System)
   - **Преимущества:** Первая VCS, предложила базовые механизмы версионного контроля.
   - **Недостатки:** Ограниченная функциональность, централизованная модель.

2. **RCS** (Revision Control System)
   - **Преимущества:** Улучшенные функции по сравнению с SCCS, возможность работы с отдельными файлами.
   - **Недостатки:** Централизованная модель, сложность в управлении проектами с большим числом файлов.

3. **CVS** (Concurrent Versions System)
   - **Преимущества:** Поддержка многопользовательской работы, возможность параллельного редактирования.
   - **Недостатки:** Проблемы с атомарностью операций, сложность в управлении ветвлением и слиянием.

4. **Subversion** (SVN)
   - **Преимущества:** Улучшенная поддержка ветвлений и слияний, простая модель работы, хорошая интеграция с IDE.
   - **Недостатки:** Централизованная модель, что может стать узким местом при большом числе разработчиков.

5. **BitKeeper**
   - **Преимущества:** Распределённая система, хорошая производительность.
   - **Недостатки:** Проприетарная лицензия, что вызвало разногласия в сообществе разработчиков Linux.

### История создания Git
Git был создан Линусом Торвальдсом в 2005 году как система управления версиями для разработки ядра Linux. До этого разработчики ядра использовали проприетарную систему BitKeeper, но из-за разногласий между сообществом разработчиков Linux и компанией-разработчиком BitKeeper, было принято решение создать новую, открытую систему управления версиями.

Линус Торвальдс разработал Git с нуля, стремясь к высокой производительности, безопасности данных и простоте распределённой работы. Основные принципы, которые он закладывал в новую систему, включали возможность работать автономно, быстрое выполнение операций и надежное хранение данных.

С самого начала Git был разработан с учетом распределённого характера работы, что позволяло разработчикам эффективно сотрудничать без необходимости центрального сервера. Это оказалось революционным подходом и сделало Git популярным инструментом не только для разработки ядра Linux, но и для множества других проектов.

С момента своего создания Git стал одним из самых популярных инструментов для управления версиями, и его популярность продолжает расти благодаря своей гибкости, надежности и широкому сообществу пользователей и разработчиков.

### Почему Git стал наиболее популярной системой контроля версий
1. **Распределённая модель**: Каждый разработчик имеет полную копию репозитория, что позволяет работать автономно и повышает надежность системы.
2. **Высокая производительность**: Git обеспечивает быстрое выполнение операций, таких как коммиты, слияния и ветвления.
3. **Мощные инструменты для ветвления и слияния**: Git упрощает управление ветвлением и интеграцией кода, что важно для крупных проектов с большим числом участников.
4. **Безопасность данных**: Git использует криптографические методы для обеспечения целостности данных.
5. **Открытость и активное сообщество**: Git является проектом с открытым исходным кодом, что способствует его постоянному развитию и поддержке со стороны сообщества.
6. **Гибкость и расширяемость**: Git поддерживает разнообразные рабочие процессы и может быть интегрирован с множеством инструментов и сервисов.
7. **Популярность сервисов на базе Git**: Сервисы, такие как GitHub, GitLab и Bitbucket, значительно упростили использование Git и популяризировали его среди разработчиков по всему миру.

Эти преимущества сделали Git стандартом де-факто для версионного контроля в современном программировании.
</details>
</div>

## Как работает
Если посмотреть на картинку, то становиться чуть проще с пониманием. Каждый кружок, это commit. Стрелочки показывают направление, из какого commit сделан следующий. Например `C3` сделан из `С2` и т. д. Все эти commit находятся в ветке под названием `main`. Это основная ветка, чаще всего ее называют `master` . Прямоугольник `main*` показывает в каком commit мы сейчас находимся, проще говоря указатель.

![Коммиты в гит](./img/01-01.png)

В итоге получается очень простой граф, состоящий из одной ветки (`main`) и четырех commit. Все это может превратиться в более сложный граф, состоящий из нескольких веток, которые сливаются в одну.

![Более сложный граф коммитов в гит](./img/01-02.png)

Об этом мы поговорим в следующих статьях. Для начала разберем работу с одной веткой.

## Установка
Основой интерфейс для работы с Git-ом является консоль/терминал. Это не совсем удобно, тем более для новичков, поэтому предлагаю поставить дополнительную программу с графическим интерфейсом (кнопками, графиками и т.д.). О них я расскажу чуть позже.

Но для начала, все же установим сам Git.

* Windows. Проходим по [этой ссылке](https://git-scm.com/download/win), выбираем под вашу ОС (32 или 64 битную), скачиваем и устанавливаем.
* Для Mac OS. Открываем терминал и пишем:

```sh
#Если установлен Homebrew
brew install git

#Если нет, то вводим эту команду. 
git --version
#После этого появится окно, где предложит установить Command Line Tools (CLT).
#Соглашаемся и ждем установки. Вместе с CLT установиться и git
```

* Linux. Открываем терминал и вводим следующую команду.
  
```sh
# Debian или Ubuntu
sudo apt install git

# CentOS
sudo yum install git
```

## Настройка
Вы установили себе Git и можете им пользоваться. Давайте теперь его настроим, чтобы когда вы создавали commit, указывался автор, кто его создал.

Открываем терминал (Linux и MacOS) или консоль (Windows) и вводим следующие команды.

```sh
#Установим имя для вашего пользователя
#Вместо <ваше_имя> можно ввести, например, Grisha_Popov
#Кавычки оставляем
git config --global user.name "<ваше_имя>"

#Теперь установим email. Принцип тот же.
git config --global user.email "<адрес_почты@email.com>"
```

## Создание репозитория
Теперь вы готовы к работе с Git локально на компьютере.

Создадим наш первый репозиторий. Для этого пройдите в папку вашего проекта.

```sh
#Для Linux и MacOS путь может выглядеть так /Users/UserName/Desktop/MyProject
#Для Windows например С://MyProject
cd <путь_к_вашему_проекту>

#Инициализация/создание репозитория
git init
```

Теперь Git отслеживает изменения файлов вашего проекта. Но, так как вы только создали репозиторий в нем нет вашего кода. Для этого необходимо создать commit.

```sh
#Добавим все файлы проекта в нам будующий commit
git add .
#Или так
git add --all

#Если хотим добавить конкретный файл то можно так
git add <имя_файла> 

#Теперь создаем commit. Обязательно указываем комментарий.
#И не забываем про кавычки
git commit -m "<комментарий>"
```

Отлично. Вы создали свой первый репозиторий и заполнили его первым commit.

## Процесс работы с Git
Не стоит после каждого изменения файла делать commit. Чаще всего их создают, когда:

* Создан новый функционал
* Добавлен новый блок на верстке
* Исправлены ошибки по коду
* Вы завершили рабочий день и хотите сохранить код

Это поможет держать вашу ветки в чистоте и порядке. Тем самым, вы будете видеть историю изменений по каждому нововведению в вашем проекте, а не по каждому файлу.

## Визуальный интерфейс
Как я и говорил ранее, существуют дополнительные программы для облегчения использования Git. Некоторые текстовые редакторы или полноценные среды разработки уже включают в себя вспомогательный интерфейс для работы с ним.

Но существуют и отдельные программы по работе с Git. Могу посоветовать эти:

* [GitHub Desktop](https://github.com/apps/desktop)
* [Sourcetree](https://www.sourcetreeapp.com/)
* [GitKraken](https://www.gitkraken.com/)

Я не буду рассказывать как они работают. Предлагаю разобраться с этим самостоятельно.

## Создаем свой первый проект и выкладываем на GitHub
Давайте разберемся как это сделать, с помощью среды разработки Visual Studio Code (VS Code).

Перед началом предлагаю зарегистрироваться на [GitHub](https://github.com/).

Создайте папку, где будет храниться ваш проект. Если такая папка уже есть, то создавать новую не надо.

После открываем VS Code .

![Работа с гит в Vs Code](./img/01-03.png)


1. Установите себе дополнительно анализаторы кода для JavaScript и PHP
1. Откройте вашу папку, которую создали ранее

После этого у вас появится вот такой интерфейс

![Интерфейс VSCode по работе с гит](./img/01-04.png)


1. Здесь будут располагаться все файлы вашего проекта
1. Здесь можно работать с Git-ом
1. Кнопка для создания нового файла
1. Кнопка для создания новой папки

> Если ваш проект пустой, как у меня, то создайте новый файл и назовите его `index.html` . После этого откроется окно редактирование этого файла. Напишите в нем `!` и нажмите кнопку `Tab` . Автоматически должен сгенерироваться скелет пустой HTML страницы. Не забудьте нажать `ctrl+s` чтобы файл сохранился.

Давайте теперь перейдем во вкладу для работы с Git-ом.

Откроется вот такое окно:

![Окно для работы с гит](./img/01-05.png)

1. Кнопка для публикации нашего проекта на GitHub
2. После нажатия на кнопку `1` , появится всплывающее окно. Нужно выбрать второй вариант или там где присутствует фраза `...public repository`

> Если вы хотите создать локальный репозиторий и опубликовать код в другой сервис, то необходимо нажать на кнопку `Initialize Repository` . После этого, вручную выбрать сервис куда публиковать.

После того, как выбрали "Опубликовать на GitHub публичный репозиторий" (пункт 2), программа предложит вам выбрать файлы, которые будут входить в первый commit. Проставляем галочки у всех файлов, если не проставлены и жмем `ОК` . Вас перекинет на сайт GitHub, где нужно будет подтвердить вход в аккаунт.

Вы создали и опубликовали репозиторий на GitHub.

Теперь сделаем изменения в коде и попробуем их снова опубликовать. Перейдите во вкладку с файлами, отредактируйте какой-нибудь файл, не забудьте нажать `crtl+s` (Windows) или `cmd+s` (MacOS), чтобы сохранить файл. Вернитесь обратно во вкладу управления Git.

![Вкладка управления гит в VS Code](./img/01-06.png)

Если посмотреть на значок вкладки Git, то можно увидеть цифру 1 в синем кружке. Она означает, сколько файлов у нас изменено и незакоммичено. Давайте его закоммитим и опубликуем:

1. Кнопка для просмотра изменений в файле. Необязательно нажимать, указал для справки
2. Добавляем наш файл для будущего commit
3. Пишем комментарий
4. Создаем commit
5. Отправляем наш commit в GitHub

Поздравляю, вы научились создавать commit и отправлять его в GitHub!

## Итог
Это первая вводная статья по утилите Git. Здесь мы рассмотрели:

* Как его устанавливать
* Как его настраивать
* Как инициализировать репозиторий и создать commit через консоль
* Как на примере VS Code, опубликовать свой код на GitHub

Забегая вперед, советую вам погуглить, как работают следующие команды:

```sh
git help # справка по всем командам
git clone
git status
git branch
git checkout
git merge
git remote
git fetch
git push
git pull
```

# Часть 2
_оригинал доступен [здесь](https://habr.com/ru/articles/542616/)_

В прошлой статье, я рассказал, что такое Git, как его установить и выложить свой код на GitHub. Сегодня мы поговорим про работу в команде над одним проектом. И как это устроено в Git.

В данной статье, вся работа с Git будет через командную строку.

## Совместная работа
Представим, что вы с друзьями придумали проект, с "блэкджеком" и ... Вы разделили обязанности. Кто-то будет делать авторизацию и регистрацию, а кто-то функционал вывода новостей. Для этого вам пригодится ветвление.

![Ветвление в гит](./img/02-01.png)

**Ветка** - это набор commit (кружок), которые идут друг за другом. У ветки есть название, основную ветку чаще всего называют `master` (на картинках будет называться `main`) . Если говорить простыми словами, то ветка `master` - это наш проект.

Другие ветки - это отдельное место для реализации нового функционала или исправление багов (ошибок) нашего проекта. То есть, с отдельной веткой вы делаете что угодно, а затем сливаете эти изменения в основную ветку `master`.

> [!TIP] 
> Не рекомендую создавать commit напрямую в `master` . Лучше для этого заводить новую ветку и все изменения писать там.

Для того, чтобы создать новую ветку вводим:

```sh
git branch <название_ветки>

#или вот так

git checkout -b <название_ветки>
```

![Новая ветка в гит](./img/02-02.png)

Эти команды делают тоже самое, только второй вариант позволяет сразу переключиться в новую ветку. Вносить изменения в новую ветку можно сразу после ее создания.

При создании новой ветки, старайтесь называть ее кратким и ёмким именем. Чтобы сразу было понятно, что именно изменялось по проекту. Если вы используете, какую-нибудь систему для ведения задач, то можете в начале названия ветки указывать ID задачи, чтобы можно было легко найти, на основе какой задачи была создана ветка. Например вот так:

```
3424_fix_catalog_ajax
```

В каждом новом commit следует оставлять коммент и в нем описывать суть изменений.

Переключаться между ветками можно такой командой:

```sh
git checkout <название_ветки>
```

После того, как вы завершили работу над своей задачей, ветку можно слить в `master` . Для этого нужно переключиться в ветку master и выполнить следующую команду:

```sh
# Переключаемся в master
git checkout master
# Обновляем локальную ветку с сервера
git pull origin master

# Делаем merge вашей ветки, в ветку в которой вы находитесь
# В данном примере это master
git merge <название_ветки>
```

![Ветка для багфикса в гит](./img/02-03.png)

> [!CAUTION]
> Перед тем как сливать новый `merge` , стоит обновить локальную ветку `master` , во избежания дальнейших проблем.

Команда `merge` берет все изменения из ветки (например `bugFix`) и добавляет их в ветку `master`.

Для того чтобы посмотреть текущее состояние ветки, например, какие файлы добавлены или не добавлены для создания commit, можно выполнить команду:

```sh
git status
```

Другие пользователи не увидят вашу ветку, пока она не будет отправлена на удаленный репозиторий. Поэтому, после того как вы слили все изменения в `master` , нужно отправить их в GitHub. Для этого **обязательно** нужно находиться в ветке `master` :

```sh
git checkout master

# Отправляем наши изменения в GitHub
git push origin master
```

Теперь все ваши изменения, в ветке `master` улетели в GitHub. Таким же образом, можно отправить любую другую ветку:

```sh
git checkout <название_ветки>
git push origin <название_ветки>
```

> [!TIP] 
> Каждый коммит, лучше заливать сразу в удаленный репозиторий. Никто не застрахован, поломки собственного ПК. Поэтому чтобы не потерять все наработки, не забывайте сливать ваши изменения на GitHub.

### Как же теперь другой человек получит все ваши изменения?
Для этого вам понадобиться GitHub или любой другой сервис для хранения кода. В прошлой статье я рассказывал как отправить код в GitHub. Сейчас я покажу, как его скопировать обратно себе на компьютер.

Если у вашего друга раньше не было проекта, то ему придется его "клонировать" себе:

```sh
git clone <адрес_репозитория>
```

> [!TIP] 
> Адрес репозитория на GitHub можно получить, нажав на зеленую кнопку Code

После выполнения команды, в папке где появиться проект и ваш друг сможет с ним работать. Все ветки и их история также подтянуться.

### Теперь самое главное
Перед тем, как создавать новый функционал и новую ветку, стоит обновить `master` на вашем устройстве. Для этого нужно находиться в этой ветке и выполнить следующую команду:

```sh
# Переключаемся в master
git checkout master

# Подтягиваем изменения из репозитория GitHub
git pull origin master
```

Таким же образом можно актуализировать любую другую ветку, заменив название ветки `master` на вашу.

Для обновления всех веток сразу, можно использовать такую, команду, но **не рекомендую**:

```sh
git pull
```

Теперь можно создавать новую ветку и кодить.

### Какие проблемы могут возникнуть?
Git старается автоматически сливать изменения, однако это не всегда возможно. Иногда возникают конфликты. Например, когда в двух ветках были изменения в одной и той же строчке кода. Если такое произошло, то необходимо разрешить конфликт вручную. Для этого откройте файл там, где этого произошло. Например, вы можете увидеть что-то подобное:

```sh
# Вы пытались выполнить это
git checkout new_styles
git merge master

# В конце увидели это
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.
```

```html
<html>
  <head>
<<<<<<< HEAD
    <link type="text/css" rel="stylesheet" media="all" href="style.css" />
=======
    <!-- подключение стилей отсутствуют, по какой-то причине -->
>>>>>>> master
  </head>
  <body>
    <h1>Hello,World!</h1>
  </body>
</html>
```

Первый раздел (HEAD) - это то, что находиться в текущей ветке, куда вы пытались слить код. Второй раздел (между `====` и `>>>>master`) - версия кода в ветке, откуда вы пытались слить код (в данном случае `master`). Для того, чтобы разрешить конфликт, стоит оставить стили и привести файл в такой вид:

```html
<html>
  <head>
    <link type="text/css" rel="stylesheet" media="all" href="style.css" />
  </head>
  <body>
    <h1>Hello,World!</h1>
  </body>
</html>
```

После внесения нужных изменений добавьте ваш файл через `git add <имя_файла>` как измененный и создайте новый commit:

```sh
git add index.html
git commit -m "Merged master fixed conflict."
```

## Вспомогательные команды
Просмотреть изменения относительно двух веток можно командой:

```sh
git diff <исходная_ветка> <целевая_ветка>
```

Удалить ненужную ветку:

```sh
git branch -d <название_ветки>
```

Просмотр историю ветки:

```sh
git log
```

Подсказки по популярным командам:

```sh
# По популярным командам
git help

# Или по конкретной команде
git help <название_команды>

# Например clone
git help clone
```

## Практика и вспомогательные инструменты
Для улучшения ваших навыков, в очередной раз оставлю ссылку на [полезный тренажер с заданиями](https://learngitbranching.js.org/).

Так же, для удобства использования в Visual Studio Code, советую поставить [это расширение](https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph), которое визуализирует ваши ветки и commit, и помогает с ними работать.

В телеграмм канале [Step by Step](https://t.me/stepByStep_dev) , я публикую еще больше материала для тех, кто хочет научиться программировать и провожу обучающие стримы, для всех желающих.
